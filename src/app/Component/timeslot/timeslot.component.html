<div class="timeslot-container">
  <div class="header">
    <h2>TimeSlot Schedule</h2>
    <button mat-flat-button color="primary" (click)="openCreateDialog()">+ Create</button>
  </div>

  <div *ngFor="let group of groupedTimeSlots | keyvalue: sortByWeek">
    <div class="week-group">
      <h3>{{ formatWeekRange(group.key) }} <span class="event-count">{{ group.value.length }} Bookings</span></h3>

      <div class="timeslot-cards">
        <mat-card class="timeslot-card" *ngFor="let slot of group.value">
          <div class="slot-header">
            <span class="zone">GameZone: {{ slot.gameZoneId }}</span>
            <mat-chip [color]="getStatusColor(slot.status)" selected>{{ slot.status }}</mat-chip>
          </div>

          <div class="slot-body">
            <p><strong>Date:</strong> {{ slot.bookingDate | date }}</p>
            <p><strong>Time:</strong> {{ slot.startTime }} - {{ slot.endTime }}</p>
            <p *ngIf="slot.notes"><strong>Notes:</strong> {{ slot.notes }}</p>
          </div>

          <div class="slot-actions">
            <button mat-icon-button color="primary" (click)="editSlot(slot)">
              <mat-icon>edit</mat-icon>
            </button>
            <button mat-icon-button color="warn" (click)="deleteSlot(slot.id)">
              <mat-icon>delete</mat-icon>
            </button>
          </div>
        </mat-card>
      </div>
    </div>
  </div>
</div>
