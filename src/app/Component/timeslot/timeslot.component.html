<div class="timeslot-container">

  <div class="add-button-wrapper">
    <button mat-flat-button color="primary" (click)="onEdit(null)">
      <mat-icon>add</mat-icon>
      Add Time Slot
    </button>
  </div>

  <div class="month-section" *ngFor="let monthGroup of getGroupedTimeSlots()">
    <div class="month-header">
      <h3>{{ monthGroup.month }}</h3>
      <span class="event-count">{{ monthGroup.slots.length }} Events</span>
    </div>

    <div class="slots-grid">
      <mat-card *ngFor="let slot of monthGroup.slots" class="slot-card" [ngClass]="getCardClass(slot)">

        <mat-card-content>
          <div class="card-header">
            <h4 class="slot-title">{{ slot.gameZone.name }}</h4>
            <div class="actions-btn">
              <button mat-icon-button (click)="onEdit(slot)">
                <mat-icon>edit</mat-icon>
              </button>
              <button mat-icon-button (click)="onCancel(slot.id, slot.startTime)">
                <mat-icon>cancel</mat-icon>
              </button>
            </div>
          </div>

          <div class="slot-details">
            <div class="detail-item">
              <mat-icon class="detail-icon">schedule</mat-icon>
              <span>{{ getFormattedDuration(slot) }}</span>
            </div>

            <div class="detail-item">
              <mat-icon class="detail-icon">event</mat-icon>
              <span>{{ getFormattedDate(slot.bookingDate) }}</span>
            </div>

            <div class="detail-item">
              <mat-icon class="detail-icon">access_time</mat-icon>
              <span>{{ getFormattedTime(slot.startTime) }} - {{ getFormattedTime(slot.endTime) }}</span>
            </div>

            <div class="detail-item">
              <mat-icon class="detail-icon">sports_esports</mat-icon>
              <span>Zone {{ slot.gameZoneId }}</span>
            </div>

            <div class="detail-item" *ngIf="slot.notes">
              <mat-icon class="detail-icon">note</mat-icon>
              <span>{{ slot.notes }}</span>
            </div>
          </div>

          <div class="card-footer">
            <div class="status-badge" [ngClass]="getStatusText(slot.status)">
              {{ getStatusText(slot.status) }}
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>